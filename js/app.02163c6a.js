(function(e){function t(t){for(var n,a,o=t[0],r=t[1],l=t[2],u=0,h=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(h.length)h.shift()();return c.push.apply(c,l||[]),i()}function i(){for(var e,t=0;t<c.length;t++){for(var i=c[t],n=!0,o=1;o<i.length;o++){var r=i[o];0!==s[r]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},c=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/nelsetto-2/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=r;c.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0bb9":function(e,t,i){},"37da":function(e,t,i){"use strict";i("85f2")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),s={id:"app"},c={class:"timeline__content"};function a(e,t,i,a,o,r){var l=Object(n["j"])("Timeline");return Object(n["f"])(),Object(n["c"])("div",s,[Object(n["e"])("div",c,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(o.dates,(function(t,i){return Object(n["f"])(),Object(n["c"])(l,{key:i,date:t.today,id:t.id,chosen:e.chosen},null,8,["date","id","chosen"])})),128))])])}i("99af");var o={class:"container__left"},r={class:"namesOfFields"},l=Object(n["e"])("div",{class:"field__empty"},null,-1),d={class:"field__name__value"},u={class:"container__right"},h={class:"timeline"},f={class:"timecell__value"};function m(e,t,i,s,c,a){var m=Object(n["j"])("OrderPopup");return Object(n["f"])(),Object(n["c"])("div",{class:"timeline__wrapper",id:i.id},[Object(n["e"])("div",{class:["timeline__modal",{active:c.modal__active}]},null,2),Object(n["e"])("div",{class:["timeline__date",{chosenDay:c.chosen}]},[Object(n["e"])("p",{class:["date",{today:c.isToday}]},Object(n["k"])(a.getDateFormat),3)],2),Object(n["e"])("div",{class:["container",{chosenDay:c.chosen}]},[Object(n["e"])("div",{class:["container__line",{now:c.isToday}]},null,2),Object(n["e"])("div",o,[Object(n["e"])("div",r,[l,(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(c.facility,(function(e){return Object(n["f"])(),Object(n["c"])("div",{key:e.id,class:"field__name"},[Object(n["e"])("p",d,Object(n["k"])(e.id),1)])})),128))])]),Object(n["e"])("div",u,[Object(n["e"])("div",h,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(c.timelines,(function(e,t){return Object(n["f"])(),Object(n["c"])("div",{key:t,class:"timecell"},[Object(n["e"])("p",f,Object(n["k"])(e),1)])})),128))]),(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(c.facility,(function(e){return Object(n["f"])(),Object(n["c"])("div",{key:e.id,class:"timeline__orders"},[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(c.timelines,(function(t,s){return Object(n["f"])(),Object(n["c"])("div",{key:s,id:s,class:"timeline__order",onClick:function(t){return a.onMakeOrder(t,s,"".concat(i.id,"_").concat(e.id))}},[Object(n["e"])("p",{id:s},"+",8,["id"])],8,["id","onClick"])})),128))])})),128))]),c.popupVisible?(Object(n["f"])(),Object(n["c"])(m,{key:0,onClosePopup:t[1]||(t[1]=function(e){return a.togglePopup(!1)}),duration:this.duration,durationRange:this.durationRange,startTime:this.startTime,endTime:this.endTime,date:this.getDateFormat},null,8,["duration","durationRange","startTime","endTime","date"])):Object(n["d"])("",!0)],2)],8,["id"])}var b=i("2909"),p=i("5530"),O=(i("d81d"),i("a9e3"),i("4d90"),Object(n["l"])("data-v-76f29433"));Object(n["h"])("data-v-76f29433");var j={class:"popup"},v={class:"popup__inner"},_={class:"popup__order"},g=Object(n["e"])("div",{class:"new__order__wrapper"},[Object(n["e"])("p",{class:"new__order"},"Новый заказ")],-1),k={class:"order__duration__wrapper"},T={class:"order__duration"},C=Object(n["e"])("div",{class:"close__button"},null,-1),y={class:"popup__orderDescription"},D={class:"order__desription"},w={class:"order__date"},x={class:"order__time"},M=Object(n["e"])("div",{class:"continue__order"},[Object(n["e"])("button",{class:"continue__button"},"Продолжить")],-1);Object(n["g"])();var P=O((function(e,t,i,s,c,a){return Object(n["f"])(),Object(n["c"])("div",j,[Object(n["e"])("div",v,[Object(n["e"])("div",_,[g,Object(n["e"])("div",k,[Object(n["e"])("p",T,Object(n["k"])(a.getDuration(i.duration,i.durationRange)),1)]),Object(n["e"])("div",{class:"close__popup",onClick:t[1]||(t[1]=function(){return a.closePopup&&a.closePopup.apply(a,arguments)})},[C])]),Object(n["e"])("div",y,[Object(n["e"])("div",D,[Object(n["e"])("p",w,Object(n["k"])(i.date),1),Object(n["e"])("p",x,Object(n["k"])(i.startTime)+":"+Object(n["k"])(i.endTime),1)]),M])])])})),E={props:["durationRange","duration","startTime","endTime","date"],methods:{closePopup:function(){this.$emit("closePopup")},getDuration:function(e,t){var i=e*(t+1),n=Math.floor(i/60),s=i%60;return"".concat(n," ч ").concat(s," мин")}}};i("37da");E.render=P,E.__scopeId="data-v-76f29433";var R=E,A={props:["date","id"],components:{OrderPopup:R},data:function(){return{facility:{field1:{id:1,name:"#1 Spartak Arena",startWork:9,endWork:23,price:5e3},field2:{id:2,name:"#2 Lokomotiv Arena",startWork:9,endWork:23,price:5e3},field3:{id:3,name:"#3 Dinamo Arena",startWork:9,endWork:23,price:5e3}},timelines:[],modal__active:!1,chosen:!1,isToday:!1,clicked:!1,rangeChosen:!1,firstChosenTime:null,lastChosenTime:null,popupVisible:!1,duration:30,durationRange:0,startTime:"",endTime:"",timenowIdx:0}},mounted:function(){for(var e=6;e<30;e++){var t=e%24,i=t<10?"0".concat(t):"".concat(t);this.timelines.push("".concat(i,":00")),this.timelines.push("".concat(i,":30"))}var n=new Date;this.isToday="".concat(this.date.getDate(),"/").concat(this.date.getMonth(),"/").concat(this.date.getFullYear(),"}")==="".concat(n.getDate(),"/").concat(n.getMonth(),"/").concat(n.getFullYear(),"}");for(var s=n.getHours(),c=n.getMinutes(),a="".concat(s<10?"0".concat(s):s,":").concat(c>=30?"30":"00"),o=0;o<this.timelines.length;o++)this.timelines[o]===a&&(this.timenowIdx=o);var r=document.getElementsByClassName("container__line")[0];r.style.left="".concat(50*this.timenowIdx+83,"px")},methods:{onMakeOrder:function(e,t,i){var n="DIV"===e.target.tagName?e.target:e.target.parentElement;this.chosen=!0,null===this.firstChosenTime?(this.firstChosenTime={element:n,index:t,fieldIndex:i},this.toggleClicked(this.firstChosenTime.element,null,"ADD")):null===this.lastChosenTime?this.firstChosenTime.fieldIndex!==i?(this.toggleClicked(this.firstChosenTime.element,null,"REMOVE"),this.clearChoice(),this.firstChosenTime={element:n,index:t,fieldIndex:i},this.toggleClicked(this.firstChosenTime.element,null,"ADD")):this.firstChosenTime.index===t?(this.toggleClicked(this.firstChosenTime.element,null,"REMOVE"),this.clearChoice(),this.chosen=!1):t<this.firstChosenTime.index?(this.lastChosenTime=Object(p["a"])({},this.firstChosenTime),this.firstChosenTime={element:n,index:t,fieldIndex:i},this.toggleClicked(this.firstChosenTime.element,this.lastChosenTime.element,"ADD")):(this.lastChosenTime={element:n,index:t,fieldIndex:i},this.toggleClicked(this.firstChosenTime.element,this.lastChosenTime.element,"ADD")):this.lastChosenTime&&this.firstChosenTime&&(this.toggleClicked(this.firstChosenTime.element,this.lastChosenTime.element,"REMOVE"),this.clearChoice(),this.firstChosenTime={element:n,index:t,fieldIndex:i},this.toggleClicked(this.firstChosenTime.element,null,"ADD")),this.togglePopup(!0)},togglePopup:function(e){this.popupVisible=e;var t=Object(b["a"])(document.getElementsByClassName("clicked"));if(e){var i=t.map((function(e){return Number(e.firstChild.id)}));this.startTime=this.timelines[i[0]],this.endTime=this.timelines[i[i.length-1]+1],this.durationRange=i.length-1,this.modal__active=!0}else{this.modal__active=!1;for(var n=0;n<t.length;n++)t[n].classList.remove("clicked");t=[],this.chosen=!1}},clearChoice:function(){this.firstChosenTime=null,this.lastChosenTime=null},toggleClicked:function(e,t,i){if(e&&t){var n=e;while(n!==t)"ADD"===i?n.classList.add("clicked"):"REMOVE"===i&&n.classList.remove("clicked"),n=n.nextSibling;"ADD"===i&&t.classList.add("clicked"),"REMOVE"===i&&t.classList.remove("clicked")}else e&&("ADD"===i?e.classList.add("clicked"):"REMOVE"===i&&e.classList.remove("clicked"))}},computed:{getDateFormat:function(){var e,t,i=this.date,n=String(i.getDate()).padStart(2,"0"),s=String(i.getMonth()),c=i.getDay();switch(s){case"0":t="Января";break;case"1":t="Февраля";break;case"2":t="Марта";break;case"3":t="Апреля";break;case"4":t="Мая";break;case"5":t="Июня";break;case"6":t="Июля";break;case"7":t="Августа";break;case"8":t="Сентября";break;case"9":t="Октября";break;case"10":t="Ноября";break;case"11":t="Декабря";break}switch(c){case 0:e="Вс";break;case 1:e="Пн";break;case 2:e="Вт";break;case 3:e="Ср";break;case 4:e="Чт";break;case 5:e="Пт";break;case 6:e="Сб"}return"".concat(n," ").concat(t,", ").concat(e)}}};i("d773");A.render=m;var I=A,S={components:{Timeline:I},data:function(){return{dates:[],api__id:"60dfd6aeb4f02815aff81a48",BASE_URL:"https://dummyapi.io/data/api",firstChosenTime:null,lastChosenTime:null}},methods:{fetch:function(){for(var e=new Date,t=0;t<=30;t++){var i=new Date(e);this.dates.push({id:t,today:e}),i.setDate(e.getDate()+1),e=i}}},mounted:function(){this.fetch()}};i("8eaa");S.render=a;var V=S,L=Object(n["b"])(V);L.config.devtools=!0,L.mount("#app")},"85f2":function(e,t,i){},"8eaa":function(e,t,i){"use strict";i("dbe0")},d773:function(e,t,i){"use strict";i("0bb9")},dbe0:function(e,t,i){}});
//# sourceMappingURL=app.02163c6a.js.map